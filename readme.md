# ğŸ›’ Clickstream Customer Conversion Analysis

An end-to-end **machine learning project** that analyzes online shopping clickstream data to:

* Predict whether a customer will **convert**
* Estimate **potential revenue**
* Segment users into **behavioral clusters**
* Provide an interactive **Streamlit web application** for inference

This project demonstrates the **full ML lifecycle**: data preprocessing, EDA, feature engineering, modeling, evaluation, and deployment.

---

## ğŸ“Œ Problem Statement

E-commerce platforms generate massive volumes of **clickstream data**, but raw clicks alone are not actionable.

The goal of this project is to:

1. **Classify** whether a user session is likely to convert
2. **Regress** the potential revenue generated by a session
3. **Cluster** users based on browsing behavior
4. Deliver results via an **interactive Streamlit application**

---

## ğŸ“‚ Dataset

### Source

* **E-Shop Clothing 2008** dataset

### Characteristics

* Click-level browsing data
* No timestamps (only sequence order)
* Semicolon-separated raw file
* Requires schema normalization

### Key Raw Columns

```
session ID
page 1 (main category)
page 2 (clothing model)
price
price 2
page
order
```

---

## ğŸ§  Feature Engineering (Session-Level)

Since modeling at click-level is noisy, all features are aggregated at **session level**.

### Engineered Features

* Session length
* Unique products & categories
* Category entropy
* Price statistics (mean, max, std)
* High-price exposure
* First / last page
* Navigation depth
* Category transitions

---

## ğŸ¯ Targets

### Classification Target

* **`converted`** (binary)
* Heuristic-based using session exit behavior and price exposure

### Regression Target

* **`revenue`**
* Defined as the final viewed product price
* Target leakage explicitly removed during modeling

---

## ğŸ¤– Models Used

### 1ï¸âƒ£ Classification â€” Conversion Prediction

* **Model:** Random Forest Classifier
* **Metrics:**

  * Precision, Recall, F1-Score
  * ROC-AUC
* **Result:**

  * ROC-AUC â‰ˆ **0.99**
  * Balanced precision & recall

---

### 2ï¸âƒ£ Regression â€” Revenue Estimation

* **Model:** Gradient Boosting Regressor
* **Metrics:**

  * MAE
  * RMSE
  * RÂ²
* **Result:**

  * RÂ² â‰ˆ **0.46**
---

### 3ï¸âƒ£ Clustering â€” Customer Segmentation

* **Algorithm:** K-Means
* **Evaluation:**

  * Silhouette Score
  * Daviesâ€“Bouldin Index
* **Optimal clusters:** **4**

#### Cluster Interpretation

| Cluster | Description                       |
| ------- | --------------------------------- |
| 0       | Casual browsers                   |
| 1       | Bouncers / low engagement         |
| 2       | Exploratory users (largest group) |
| 3       | High-intent sessions              |

---

## ğŸŒ Streamlit Application

The project includes a **fully working Streamlit app** that:

* Accepts **raw clickstream CSV**
* Cleans & normalizes data automatically
* Generates session-level features
* Runs:

  * Conversion prediction
  * Revenue estimation
  * Cluster assignment
* Displays:

  * Summary metrics
  * Cluster distribution chart

### Example Outputs

* Average conversion probability
* Average predicted revenue
* Most common behavioral cluster

---

## â–¶ï¸ How to Run the Project

### 1ï¸âƒ£ Clone Repository

```bash
git clone https://github.com/evirac/Clickstream-customer-conversion
cd clickstream-customer-conversion
```

### 2ï¸âƒ£ Install Dependencies

```bash
pip install -r requirements.txt
```

### 3ï¸âƒ£ Run Streamlit App

```bash
streamlit run streamlit_app/app.py
```

### 4ï¸âƒ£ Upload Dataset

Upload:

```
e-shop clothing 2008.csv
```

---

## ğŸ“ Project Structure

```
.
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/
â”‚   â”œâ”€â”€ processed/
â”‚
â”œâ”€â”€ notebooks/
â”‚   â”œâ”€â”€ 01_raw_eda.ipynb
â”‚   â”œâ”€â”€ 02_feature_engineering.ipynb
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ data_preprocessing.py
â”‚   â”œâ”€â”€ feature_engineering.py
â”‚   â”œâ”€â”€ target_creation.py
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ classification_model.py
â”‚   â”‚   â”œâ”€â”€ regression_model.py
â”‚   â”‚   â”œâ”€â”€ clustering_model.py
â”‚
â”œâ”€â”€ model_artifacts/
â”‚   â”œâ”€â”€ classification.pkl
â”‚   â”œâ”€â”€ regression.pkl
â”‚   â”œâ”€â”€ kmeans.pkl
â”‚
â”œâ”€â”€ streamlit_app/
â”‚   â”œâ”€â”€ app.py
â”‚   â”œâ”€â”€ helpers.py
â”‚
â”œâ”€â”€ README.md
â””â”€â”€ requirements.txt
```

---

## ğŸ“Œ Key Learnings

* Importance of session-level aggregation
* Handling target leakage correctly
* Feature alignment between training & inference
* Real-world ML deployment challenges
* Robust Streamlit integration

---

## ğŸ‘¤ Author

**Ayush Gupta**